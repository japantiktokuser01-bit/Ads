window.__require=function e(t,n,o){function a(i,c){if(!n[i]){if(!t[i]){var l=i.split("/");if(l=l[l.length-1],!t[l]){var u="function"==typeof __require&&__require;if(!c&&u)return u(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+i+"'")}i=l}var s=n[i]={exports:{}};t[i][0].call(s.exports,function(e){return a(t[i][1][e]||e)},s,s.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<o.length;i++)a(o[i]);return a}({APIController:[function(e,t,n){"use strict";cc._RF.push(t,"4a3e3H75xtMy4r8HrdCsYMs","APIController");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Event/NewYearCampuchia/src/NewYearCampuchia.Main"),c=e("../../Event/NewYearCampuchia/src/NewYearCampuchia.Notify"),l=e("../../Event/XMAS2023/SRC/DiemDanh/XMAS2023.XmasGift.Main"),u=e("../Animal/AnimalBase"),s=e("../CayAnQua/CayAnQua.Controller"),p=e("../CayAnQua/CayAnQua.Tree"),d=e("../ChucNangChoAn/AnimalFeedController"),f=e("../CoCheDoiThuong/DoiDataController"),h=e("../Cote/AnimalController"),y=e("../DailyAttendance/DailyAttendanceController"),g=e("../DailyAttendance/DailyAttendanceMain"),m=e("../DailyCheckin/DailyCheckin.Main"),v=e("../Farm/FarmController"),C=e("../Friend/Popup.FriendController"),_=e("../Friend/V2_v1.0.3/FriendV103.FriendController"),b=e("../Game/GameManager"),P=e("../Game/ShowCoin"),M=e("../GoiNapDau/PopupGoiNapDauInitialize"),A=e("../Help/HelpController"),S=e("../Info/InfoController"),O=e("../LandUmbrella/LandUmbrellaController"),w=e("../Language/LanguageManager"),I=e("../Log/LogController"),N=e("../LuckyBird/LuckyBirdController"),k=e("../Main.Loading"),R=e("../Main.MiniGameController"),T=e("../Main.PanelMenu"),L=e("../Map/MainMap"),G=e("../Map/MapBase"),j=e("../NewAction/SeedMain"),F=e("../NhaMay/ENhaMayType"),x=e("../NhaMay/NhaMayItem"),B=e("../Notification/NotificationController"),D=e("../Order/ItemOrderController"),E=e("../Order/OrderMain"),H=e("../OTP/OTPMain"),U=e("../Player/PlayerController"),q=e("../PopupFishHunter/PopupFishHunterInitialize"),V=e("../PopupMiniGameSale/PopupMiniGameSale"),z=e("../PopupProfile/PopupProfile"),X=e("../PopupShop/PopupShopController"),W=e("../Rank/RankController"),Y=e("../Setting/SettingController"),K=e("../Socket/SocketController"),Q=e("../StoreHouse/column/StoreHouseController"),J=e("../SuggestGiftcode/SuggestInitialize"),Z=e("../Tutorial/Main.Tutorial"),$=e("../UI/Popup/ParticlePopupController"),ee=e("../UI/Popup/PopupController"),te=e("../UI/PopupLoginEvent"),ne=e("../UI/Shop/ShopAnimalController"),oe=e("../UI/Shop/ShopCayDaiHan"),ae=e("../UI/Shop/ShopMain"),re=e("../UI/Shop/ShopPhanBon"),ie=e("../UI/Shop/ShopTreeController"),ce=e("../VongQuayMayMan/VongQuayMayMan"),le=e("../VongQuayMayMan/VongQuayMayManInit"),ue=e("./APIManager"),se=cc._decorator,pe=se.ccclass,de=(se.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curPingTime=0,t.IntervalPing=240,t}var n;return a(t,e),n=t,Object.defineProperty(t,"serverCurrentMillis",{get:function(){return Date.now()-this.distanceTime},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){k.default.instnace.loading.active=!1,n.instance=this,this.curPingTime=this.IntervalPing},t.prototype.start=function(){var e=this;switch(n.instance.StartGame(function(e){try{b.default.PlayerController.ShowNotificationURL(e.arrPopUp),b.default.PlayerController.StartGame(),0!=b.default.loginedTime&&(n.instance.APILog("API9_client_gameloaded_ok="+(Date.now()-b.default.loginedTime)),b.default.loginedTime=0)}catch(t){n.instance.APILog("API9_client_gameloaded_ex="+t),b.default.loginedTime=0}},b.default.allStartData.startGame),b.default.allStartData.startGame=null,0!=b.default.loginedTime&&n.instance.APILog("API9_client_gameloaded="+(Date.now()-b.default.loginedTime)),b.default.country){case w.Language.MOZ:var t=localStorage.getItem("refreshToken"),o=localStorage.getItem("userId"),a=localStorage.getItem("timeTokenExpiration"),r=n.serverCurrentMillis,i=parseFloat(a)-r;i<=0?this.HandlerRefreshToken(t,o,function(e){0==e.errorCode?(localStorage.setItem("token",e.data.token),localStorage.setItem("refreshToken",e.data.refreshToken),localStorage.setItem("timeTokenExpiration",e.data.timeTokenExpiration),ue.default.accessToken=e.data.token,K.default.instance.ConnectSocket()):(localStorage.setItem("token",""),localStorage.setItem("refreshToken",""),localStorage.setItem("timeTokenExpiration",""),ue.default.accessToken="",cc.director.loadScene("Loading"))}):this.scheduleOnce(function(){e.HandlerRefreshToken(t,o,function(e){0==e.errorCode?(localStorage.setItem("token",e.data.token),localStorage.setItem("refreshToken",e.data.refreshToken),localStorage.setItem("timeTokenExpiration",e.data.timeTokenExpiration),ue.default.accessToken=e.data.token,K.default.instance.ConnectSocket()):(localStorage.setItem("token",""),localStorage.setItem("refreshToken",""),localStorage.setItem("timeTokenExpiration",""),ue.default.accessToken="",cc.director.loadScene("Loading"))})},i)}},t.prototype.HandlerRefreshToken=function(e,t,n){var o=ue.default.urlAPI+"farm/access/handlerRefreshToken",a={userId:t};this.CallPost(a,o,function(e){n(e)},function(t){t.setRequestHeader("Authorization","Bearer "+e),t.setRequestHeader("Content-type","application/json")})},t.prototype.Analytics=function(){gameanalytics.GameAnalytics.setEnabledInfoLog(!0),gameanalytics.GameAnalytics.setEnabledVerboseLog(!0),gameanalytics.GameAnalytics.configureBuild("0.10"),gameanalytics.GameAnalytics.configureUserId("UID_"+b.default.PlayerController.msisdn);var e="",t="";switch(b.default.country){case w.Language.MOZ:e="bee2e3fa51ec6b34c1a894fa3d851c1b",t="76f15ea6cc342c31424697d5a0d9f6cea8917f83";break;case w.Language.LAO:e="9298df6ef8c21c3583c89233c0f175ee",t="7c1f13b8cf2ec043f0b04b97cf070757706fc38b";break;case w.Language.MYA:e="2bc034569bb1628e3ffe4731bf507dbb",t="a440aba377fcd5a35ad6e3aa9edba6f03fc6cafa";break;case w.Language.CAM:e="a6baea6c915b141011991985b6de3927",t="5f8d2d52d622930803686891d00670ac9f489f84"}gameanalytics.GameAnalytics.initialize(e,t)},t.prototype.update=function(){},t.prototype.LogOut=function(){var e=ue.default.urlAPI+"farm/logOut";this.CallPost(null,e,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null!==t&&(t[1]||0)},t.prototype.StartGame=function(e,t){var n=this;void 0===t&&(t=null);var o=function(t){if("0"==t.errorCode){var o=t.data;switch(e(o),b.default.country){case w.Language.CAM:case w.Language.MYA:n.getInfoEventDecoration()}}else b.default.MainPopupNotification.Notification(t.message)};if(t)setTimeout(function(){return o(t)},300);else{var a=ue.default.urlAPI+"farm/startGame";this.CallPost({src:"afterLoading"},a,function(e){o(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.SaveLanguage=function(e){var t=ue.default.urlAPI+"farm/saveLanguage",n={language:e};this.CallPost(n,t,function(e){"0"==e.errorCode?cc.director.loadScene("Loading"):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Xmas2023GetInfo=function(e){var t=ue.default.urlAPI+"eventDecoration/getInfo";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getInfoEventDecoration=function(){var e=ue.default.urlAPI+"eventDecoration/getInfo";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;ue.default.isEndEventDecoration=!t}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getInfoEventKhmer=function(e){var t=ue.default.urlAPI+"eventKhmer/getInfo";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(!n),ue.default.isEndEventNewYearCampuchia=!n}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetPlayerInfo=function(e){var t=this;void 0===e&&(e=null);var o=function(e){var o;if("0"==e.errorCode){var a=e.data;if((null===(o=a.rank)||void 0===o?void 0:o.userId)&&ee.default.Instance.Spawn(0,a.rank.userId),b.default.isComic=a.isCommic,a.isWateringEvent&&b.default.GameController.IconEventTuoiNuoc(a.isWateringEvent),b.default.level=a.level,b.default.PlayerController.LoadData(a),b.default.PlayerController.StartTutorial(),null!=a.season&&b.default.PlayerController.UpdateSeason(a.season),b.default.FarmController.LoadData(a.Farm),b.default.CayAnQuaController.loadData(a.Farm.landLongTerm),b.default.NhaMayController.loadData(a.Factory),b.default.LuckyBirdController.updateData(a.LuckyBird),b.default.AnimalController.updateProductionProcess(a.CattleFarm),b.default.PlayerInfo=a,a.tutorial){var r=JSON.parse(a.tutorial.tutorial);b.default.index=r.indexTutorial}if(b.default.PlayerController.UpdateTotalWater(a.totalWater,a.timeWater),b.default.PlayerController.LoadName(a.nickName),ue.default.isLogin||(b.default.PlayerController.UpdateBtnSale(e.data.isSale),null!=a.isPrivateTestBirdShooting&&b.default.MainPopupNotification.Notification(a.isPrivateTestBirdShooting),ue.default.isLogin=!0),J.default.isShowed||"boolean"!=typeof a.isUserVoucher||a.isUserVoucher||(J.default.isShowed=!0,J.default.create()),b.default.country==w.Language.LAO?te.default.show():2==b.default.PlayerController.firstDeposit||U.default.firstDepositShowed||b.default.country==w.Language.CAM||(U.default.firstDepositShowed=!0,M.default.create(!0,"Loading")),a.rank){if(a.rank.content&&cc.sys.localStorage.getItem("rank_showed_time")!=a.rank.date&&(b.default.MainPopupNotification.Notification(a.rank.content),cc.sys.localStorage.setItem("rank_showed_time",a.rank.date)),b.default.PlayerController.lblMarqueeMains.destroyAllChildren(),a.rank.notify)for(var c=a.rank.notify.split(" | "),l=0;l<c.length;l++){var u=cc.instantiate(b.default.PlayerController.lblMarqueeMainTemp);u.parent=b.default.PlayerController.lblMarqueeMains,u.active=!0,u.getComponent(cc.Label).string=c[l]}}else b.default.PlayerController.lblMarqueeMains.destroyAllChildren(),cc.sys.localStorage.setItem("rank_showed_time","");switch(b.default.PopupProfileInitialize.updateAvatar(),b.default.country==w.Language.CAM&&(i.default.Instance.OnClick_NewYearCam(),t.scheduleOnce(function(){i.default.Instance.ShowPopupEvent()},120)),b.default.isShowSpin&&(le.default.instance.OnClick(),b.default.isShowSpin=!1),b.default.country){case w.Language.VIE:case w.Language.ENG:case w.Language.LAO:break;case w.Language.MYA:case w.Language.MOZ:case w.Language.CAM:b.default.index>=15&&n.instance.GetDailyCheckIn(function(e){!e.statusCheckIn&&e.showCheckIn&&m.default.Instance.OnClick_Main()},b.default.allStartData.getDailyCheckIn)}t.Analytics()}else b.default.MainPopupNotification.Notification(e.message)};if(e)o(e);else{var a=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPost(null,a,function(e){o(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.UpdateAudio=function(){var e=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPostNotLoading({keys:["season"]},e,function(e){if("0"==e.errorCode){var t=e.data;null!=t.season&&b.default.PlayerController.UpdateAudio(t.season.currentWeather)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.UpdateWeather=function(){var e=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPostNotLoading({keys:["season","nickName"]},e,function(e){if("0"==e.errorCode){var t=e.data;b.default.PlayerController.LoadName(t.nickName),null!=t.season&&b.default.PlayerController.UpdateSeason(t.season)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.NotificationUrl=function(){var e=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPostNotLoading({keys:["nickName"]},e,function(e){if("0"==e.errorCode){var t=e.data;b.default.PlayerController.LoadName(t.nickName)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListGiftDay=function(e){var t=ue.default.urlAPI+"farm/getListGiftDay";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(g.default).LoadPopupDailyAttendance(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetGiftDay=function(e,t,n){var o=ue.default.urlAPI+"farm/getGiftDay",a={id:n};this.CallPost(a,o,function(n){if("0"==n.errorCode){var o=n;e.getComponent(y.default).OnAttendanceResponse(t,o)}else b.default.MainPopupNotification.Notification(n.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataAnimalCare=function(e,t,n){if(void 0===n&&(n=null),b.default.isPlayFriend)o=ue.default.urlAPI+"farm/getDataAnimalFriendCare",a={friendMsisdn:ue.default.friendMsisdn,animalType:t.getComponent(u.default).animalType,animalId:t.getComponent(u.default).id},this.CallPost(a,o,function(e){"108"==e.errorCode?t.getComponent(u.default).UpdateDataFriend(e):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")});else{var o=ue.default.urlAPI+"farm/getDataAnimalCare",a={type:e,animalType:t.getComponent(u.default).animalType,animalId:t.getComponent(u.default).id,supportId:n};this.CallPost(a,o,function(e){"106"==e.errorCode||"107"==e.errorCode?t.getComponent(u.default).UpdateData(e):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDiamondSkip=function(e,t,n,o){var a=ue.default.urlAPI+"farm/getDataPlantCare",r={landId:e,typeLand:t,type:n};this.CallPost(r,a,function(e){o(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataPlantCare=function(e,t,n,o,a){if(void 0===a&&(a=null),b.default.isPlayFriend)3!=n&&4!=n&&5!=n||(r=ue.default.urlAPI+"farm/getDataPlantFriendCare",i={friendMsisdn:ue.default.friendMsisdn,landId:e,typeLand:t,seedId:null,supportId:a},this.CallPost(i,r,function(e){if("703"==e.errorCode||"704"==e.errorCode){(n=o.getComponent(O.default))&&n.LoadLandUmbrellaFriend(e);var t=o.getComponent(p.default);t&&t.onResponsePlantCare(e)}else{var n;b.default.MainPopupNotification.Notification(e.message),(n=o.getComponent(O.default))&&n.Reset()}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")}));else{var r=ue.default.urlAPI+"farm/getDataPlantCare",i={landId:e,typeLand:t,seedId:null,supportId:a};this.CallPost(i,r,function(e){switch(t){case 1:"101"==e.errorCode||"102"==e.errorCode||"103"==e.errorCode||"104"==e.errorCode||"105"==e.errorCode||"222"==e.errorCode?o.getComponent(O.default).LoadLandUmbrella(e):(b.default.MainPopupNotification.Notification(e.message),o.getComponent(O.default).Reset());break;case 2:"101"==e.errorCode||"102"==e.errorCode||"103"==e.errorCode||"104"==e.errorCode||"105"==e.errorCode||"222"==e.errorCode?o.getComponent(p.default).onResponsePlantCare(e):b.default.MainPopupNotification.Notification(e.message)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.CreateTree=function(e,t,n,o){var a=ue.default.urlAPI+"farm/getDataPlantCare",r={landId:e,typeLand:n,seedId:t,supportId:null};this.CallPost(r,a,function(e){if("102"==e.errorCode){var t=e.data;switch(n){case 1:o.getComponent(O.default).CreateTree(t);break;case 2:o.getComponent(p.default).onCreateTree(t)}}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ListFriend=function(e){var t=ue.default.urlAPI+"farm/listFriend";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(C.default);o&&o.LoadPopup(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.addFriend=function(e,t){var n=ue.default.urlAPI+"farm/addFriend",o={friendMsisdn:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t.getComponent(C.default).onResponseAddFriend(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.listFriendRequest=function(e){var t=ue.default.urlAPI+"farm/listFriendRequest";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(C.default).onResponseListFriendRequests(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.acceptFriend=function(e,t,n,o){var a=ue.default.urlAPI+"farm/acceptFriend",r={status:e,friendId:t};this.CallPost(r,a,function(t){if("0"==t.errorCode){var a=t.data;o.getComponent(C.default).onResponseAcceptFriend(e,n,a)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ListFriend_v103=function(e){var t=ue.default.urlAPI+"farm/friend/listFriend";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.AddFriend_v103=function(e,t){var n=ue.default.urlAPI+"farm/friend/addFriend",o={friendMsisdn:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n),b.default.MainPopupNotification.Notification(n.content)}else if("957"==e.errorCode){var o=e.data;_.default.Instance.ShowLimit(o.content.message)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SendRewardForFriend_v103=function(e,t){var n=ue.default.urlAPI+"farm/friend/sendRewardForFriend",o={friendId:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n),b.default.MainPopupNotification.Notification(n.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListRewardFromFriend_v103=function(e){var t=ue.default.urlAPI+"farm/friend/getListRewardFromFriend";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")},!1)},t.prototype.ReceiveRewardFromFriend_v103=function(e,t){var n=ue.default.urlAPI+"farm/friend/receiveRewardFromFriend",o={rewardId:e};this.CallPut(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n),b.default.MainPopupNotification.Notification(n.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ListFriendRequest_v103=function(e){var t=ue.default.urlAPI+"farm/friend/listFriendRequest";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.AcceptFriend_v103=function(e,t){var n=ue.default.urlAPI+"farm/friend/acceptFriend",o={friendId:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n),b.default.MainPopupNotification.Notification(n.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.DeleteRequestFriend_v103=function(e,t,n){var o=ue.default.urlAPI+"farm/friend/deleteFriend",a={friendId:e,type_delete:t};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=e.data;n&&n(t),b.default.MainPopupNotification.Notification(t.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.DeleteFriend_v103=function(e,t){var n=ue.default.urlAPI+"farm/friend/deleteFriend",o={friendId:e,type_delete:null};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n),b.default.MainPopupNotification.Notification(n.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SuggestAddFriend_v103=function(e){var t=ue.default.urlAPI+"farm/friend/suggestAddFriend";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetRewardMilestone_v103=function(e){var t=ue.default.urlAPI+"farm/friend/getRewardMilestone";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.PopupReceiveRewardMilestone_v103=function(){var e=this,t=ue.default.urlAPI+"farm/friend/popupReceiveRewardMilestone";this.CallPost(null,t,function(t){"0"==t.errorCode&&t.data.receiveRewardMilestone&&e.ReceiveRewardMilestone_v103()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ReceiveRewardMilestone_v103=function(){var e=ue.default.urlAPI+"farm/friend/receiveRewardMilestone";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;_.default.Instance.ShowGift(null,t.gift)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetAndUpdateHelpsTime=function(e){var t=ue.default.urlAPI+"farm/friend/getAndUpdateHelpsTime";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetRewardGenerousFamer_v103=function(e){var t=ue.default.urlAPI+"farm/friend/getRewardGenerousFamer";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.PopupReceiveRewardGenerousFamer_v103=function(e){var t=this,n=ue.default.urlAPI+"farm/friend/popupReceiveRewardGenerousFamer";this.CallPost(null,n,function(n){"0"==n.errorCode&&n.data.receiveGenerousFamer&&t.ReceiveRewardGenerousFamer_v103(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ReceiveRewardGenerousFamer_v103=function(e){var t=ue.default.urlAPI+"farm/friend/receiveRewardGenerousFamer";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(_.default);o&&o.ShowGift(n.rewardForUser,null);var a=e.getComponent(A.default);a&&a.ShowGift(n.rewardForUser,null)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ListUserNeedHelp_v103=function(e){var t=ue.default.urlAPI+"farm/friend/listUserNeedHelp";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ListFriendRecentHelpUser_v103=function(e){var t=ue.default.urlAPI+"farm/friend/listFriendRecentHelpUser";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.RequestFriendHelpItemOrderController=function(e,t,n,o){var a=ue.default.urlAPI+"farm/help/requestFriendHelpItemOrderController",r={questOrderId:e,productItemId:t,typeFriendHelp:n};this.CallPost(r,a,function(e){if("0"==e.errorCode){var t=e.data;o&&o(t)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListItemOrderHelpController=function(e){var t=ue.default.urlAPI+"farm/help/getListItemOrderHelpController";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.RefreshListHelp=function(e,t){var n=ue.default.urlAPI+"farm/help/getListItemOrderHelpController",o={skipDiamondRefreshList:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.AcceptHelpFriendHelpItemOrderController=function(e,t,n,o,a){var r=ue.default.urlAPI+"farm/help/acceptHelpFriendHelpItemOrderController",i={userIdRequestHelp:e,questOrderId:t,productItemId:n};this.CallPost(i,r,function(e){if("0"==e.errorCode){var t=e.data;a&&a(t)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuySlotGetHelpFriend=function(e,t){var n=ue.default.urlAPI+"farm/help/buySlotGetHelpFriend",o={skipDiamond:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data;t&&t(n)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataHouseFriend=function(e){var t=ue.default.urlAPI+"farm/getDataHouseFriend-v2",n={friendMsisdn:e};this.CallPost(n,t,function(e){if("0"==e.errorCode){var t=e.data;b.default.MainFriendController.LoadFarmFriend(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetInfoMapFriend=function(){var e=ue.default.urlAPI+"farm/GetInfoMapFriend",t={friendMsisdn:ue.default.friendMsisdn};this.CallPost(t,e,function(e){if("0"==e.errorCode){var t=e.data;return G.default.Instance.LoadMap(t.map),void b.default.AnimalController.LoadMapCage(t.cage)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetMapFriend=function(){var e=ue.default.urlAPI+"farm/getMapFriend",t={friendMsisdn:ue.default.friendMsisdn};this.CallPost(t,e,function(e){var t;if("0"==e.errorCode){var o=e.data;return(null===(t=null==o?void 0:o.map)||void 0===t?void 0:t.MainMap)?(L.default.Instance.jsonMap.json=o.map,n.instance.GetInfoMapFriend()):(L.default.Instance.jsonMap.json=L.default.Instance.jsonMap.json,n.instance.GetInfoMapFriend()),void L.default.Instance.Loadmap()}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDecorativeItemOfUserFriend=function(){var e=ue.default.urlAPI+"farm/getDecorativeItemOfUserFriend",t={friendMsisdn:ue.default.friendMsisdn};this.CallPost(t,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.PlayerController.LoadItem(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.collectAgricultural=function(e){if(b.default.isPlayFriend)t=ue.default.urlAPI+"farm/collectAgriculturalFriend",n={productType:e,friendMsisdn:ue.default.friendMsisdn},this.CallPost(n,t,function(e){"0"==e.errorCode?e.data:b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")});else{var t=ue.default.urlAPI+"farm/collectAgricultural",n={productType:e};this.CallPost(n,t,function(e){"0"==e.errorCode?e.data:b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDataStoreHouse=function(){var e=ue.default.urlAPI+"farm/getDataStoreHouseNew-v2";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.StoreHouseController.getComponent(Q.default).CreateStoreHouse(t),null!=E.default.instance&&E.default.instance.SetDataStoreHouse(t.dataStore)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataItemHouse=function(){var e=ue.default.urlAPI+"farm/getDataItemHouse-v2";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.StoreHouseController.getComponent(Q.default).CreateItem(t),n.instance.GetBoxGift()}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDecorativeItemOfUser=function(e,t){void 0===t&&(t=null);var n=function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(Q.default);o&&o.CreateItemTrangTri(n);var a=e.getComponent(U.default);a&&a.LoadItem(n)}else b.default.MainPopupNotification.Notification(t.message)};if(t)n(t);else{var o=ue.default.urlAPI+"farm/getDecorativeItemOfUser";this.CallPost(null,o,function(e){n(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDataUserXMAS=function(e){var t=ue.default.urlAPI+"eventDecoration/getDataUser";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetBoxGift=function(){var e=ue.default.urlAPI+"farm/getBoxGift";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.StoreHouseController.getComponent(Q.default).CreateGift(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.OpenBoxGift=function(e,t){var n=this,o=ue.default.urlAPI+"farm/openBoxGift",a={boxId:e};this.CallPost(a,o,function(e){if("0"==e.errorCode){var o=e.data;n.GetBoxGift(),t(o)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SellTree=function(e,t,n){var o=ue.default.urlAPI+"farm/sellTree-v2",a={id:e,quantity:parseFloat(t)};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=e.data;n.getComponent(Q.default).OnEnabllePopupNocation(t),b.default.StoreHouseController.loadStoreHouse(t.storage)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SellAll=function(e){var t=ue.default.urlAPI+"farm/sellAllStorage";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(Q.default).OnEnabllePopupNocation(n),b.default.StoreHouseController.loadStoreHouse(n.storage)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataShopAnimal=function(e){var t=ue.default.urlAPI+"farm/getDataAnimalsShop";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(ne.default);o&&o.LoadShop(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataShopTree=function(e){var t=ue.default.urlAPI+"farm/getDataSeedsShop";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(ie.default);o&&o.LoadShop(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuyTree=function(e,t,n){var o=ue.default.urlAPI+"farm/buyTreeNew-v2",a={id:parseFloat(e),quantity:parseFloat(t)};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=n.getComponent(ae.default);t&&t.OnEnabllePopupNocation(e.data);var o=n.getComponent(X.default);o&&o.onResponseBuyTree(e.data)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuyAnimal=function(e,t,n){var o=ue.default.urlAPI+"farm/buyAnimalNew",a={id:e,quantity:parseFloat(t)};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=e.data;n.getComponent($.default).Close(),b.default.MainPopupNotification.Notification(t.content)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuyLand=function(e,t,n){var o=ue.default.urlAPI+"farm/buyLand-v2",a={typeMoney:e};this.CallPost(a,o,function(e){if("0"==e.errorCode){var o=e.data;t(o)}else n(),b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListPlantSeedsV2=function(e){var t=ue.default.urlAPI+"farm/getDataSeedsShop";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListPlantSeeds=function(e,t){var n=ue.default.urlAPI+"farm/getListPlantSeedsNew-v2",o={typePlant:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data,o=t.getComponent(O.default);o&&o.ContentCreateSeed(n);var a=t.getComponent(p.default);a&&a.onResponseListPlantSeeds(n);var r=t.getComponent(T.default);r&&r.onResponseListPlantSeeds(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListPlantSeeds_Tutorial=function(){var e=ue.default.urlAPI+"farm/getDataSeedsShop";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;if(0==t.length)b.default.OutOfSeedsMain.EventOutOfSeeds();else{null!=b.default.seed&&b.default.seed.destroy();var n=Z.default.instance.node.children[2].getChildByName("hand").children.find(function(e){return 1==e.active});j.default.Instance.EventTrongCay(t,n)}}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetNotification=function(){var e=ue.default.urlAPI+"farm/getNotification";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.NotificationMain.CreatePopupNotification(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getGiftNotification=function(e){var t=ue.default.urlAPI+"farm/getGiftNotification";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(B.default);o&&o.onResponseGiftHistory(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetRank=function(e,t){var n=ue.default.urlAPI+"farm/getRank",o={type:t};this.CallPost(o,n,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(W.default).LoadRank(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetHistory=function(e){var t=ue.default.urlAPI+"farm/getHistory";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(W.default).LoadHistory(n.history)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataLandUmbrella=function(e,t,n){if(!b.default.isPlayFriend){var o=ue.default.urlAPI+"farm/getDataLand-v2",a={landId:e,typeLand:t};this.CallPostNotLoading(a,o,function(e){if("0"==e.errorCode){var t=e.data,o=n.getComponent(O.default);o&&o.LoadLand(t.tree);var a=n.getComponent(p.default);a&&a.loadTree(t.tree)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDataAniaml=function(e,t){if(b.default.isPlayFriend)n=ue.default.urlAPI+"farm/getDataAmimalFriend",o={animalId:e,animalType:t.getComponent(u.default).animalType,friendMsisdn:ue.default.friendMsisdn},this.CallPostNotLoading(o,n,function(e){if("0"==e.errorCode){var n=e.data;t.getComponent(u.default).UpdateDataAnimal(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")});else{var n=ue.default.urlAPI+"farm/getDataAmimal",o={animalId:e,animalType:t.getComponent(u.default).animalType};this.CallPostNotLoading(o,n,function(e){if("0"==e.errorCode){var n=e.data;t.getComponent(u.default).UpdateDataAnimal(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDataSupportItemsShop=function(e){var t=ue.default.urlAPI+"farm/getDataSupportItemsShop";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(X.default);o&&o.onResponseDataSupportItemsShop(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuySupportItem=function(e,t,n,o){var a=ue.default.urlAPI+"farm/buySupportItemNew-v2",r={id:e,quantity:t,typeMoney:n};this.CallPost(r,a,function(e){if("0"==e.errorCode){b.default.MainPopupNotification.Notification(e.data.content);var t=o.getComponent(X.default);t&&t.onResponseBuySupportItem(e.data)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListSupportItem=function(e,t){var n=ue.default.urlAPI+"farm/getListSupportItemNew-v2",o={type:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=t.getComponent(O.default);n&&n.onResponseListSupportItem(e.data);var o=t.getComponent(p.default);o&&o.onResponseListSupportItem(e.data);var a=t.getComponent(u.default);a&&a.onResponseListSupportItem(e.data)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.TreeCare=function(e,t,n,o,a){switch(a){case"plant":I.default.Instance.SetLog("Click_button_normalSow");break;case"harvest":I.default.Instance.SetLog("Click_button_normalHarvest");break;case"watered":I.default.Instance.SetLog("Click_button_normalWatering");break;case"worm":I.default.Instance.SetLog("Click_button_normalCatchWorms")}var r={seedId:e,supportId:t,listLandId:n,typeLand:o,type:a};b.default.socket.send(JSON.stringify({event:"getDataPlantCareAllNew-v3",payload:JSON.stringify(r)}))},t.prototype.GetDataPlantCareAll=function(e,t,n,o,a,r){if(!b.default.isPlayFriend){switch(a){case"plant":I.default.Instance.SetLog("Click_button_normalSow");break;case"harvest":I.default.Instance.SetLog("Click_button_normalHarvest");break;case"watered":I.default.Instance.SetLog("Click_button_normalWatering");break;case"worm":I.default.Instance.SetLog("Click_button_normalCatchWorms")}var i={seedId:e,supportId:t,listLandId:n,typeLand:o,type:a},c=ue.default.urlAPI+"farm/getDataPlantCareAllNew-v3";this.CallPost(i,c,function(e){if(102==e.errorCode||103==e.errorCode||104==e.errorCode||105==e.errorCode||108==e.errorCode){var t=e.data,n=b.default.FarmController.node.getComponent(v.default),o=b.default.CayAnQuaController.node.getComponent(s.default);r?n.onResponseGetDataPlantCareAll(t,e.errorCode):o.onResponseGetDataPlantCareAll(t,e.errorCode),105==e.errorCode&&D.default.instance&&D.default.instance.CheckNotiOrder()}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetDataAnimalCareAll=function(e,t,n,o){if(!b.default.isPlayFriend){var a=ue.default.urlAPI+"farm/getDataAnimalCareAll",r={listAnimalId:e,animalType:t,type:n};this.CallPost(r,a,function(e){"106"==e.errorCode?(e.data,o.getComponent(h.default)):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetInfoSpinGift=function(e){var t=ue.default.urlAPI+"farm/getInfoSpinGift";this.CallPost({},t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(ce.default);o&&o.onResponseInfoWheel(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SpinGift=function(e,t){var n=ue.default.urlAPI+"farm/spinGift",o={type:t};this.CallPost(o,n,function(n){var o=e.getComponent(ce.default);o&&o.onResponseSpin(n,t)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ConvertGoldToSpins=function(e,t){var n=ue.default.urlAPI+"farm/convertGoldToSpins",o={quantity:e};this.CallPost(o,n,function(e){if("0"==e.errorCode){var n=e.data,o=t.getComponent(ce.default);o&&o.onResponseExchange(n)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.UseVoucher=function(e,t,n){var o=ue.default.urlAPI+"farm/useVoucher",a={userId:t,voucher:e};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=e.data,o=n.getComponent(z.default);o&&o.onResponseGiftcode(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.buyFactory=function(e,t){var o=ue.default.urlAPI+"farm/buyFactory-v2",a={typeFactory:e};this.CallPost(a,o,function(e){if("0"==e.errorCode){var o=e.data,a=t.getComponent(x.default);a&&a.onBuySuccess(o),7==b.default.index&&(n.instance.APILog("34. B\u1ea5m v\xe0o n\xfat check \u0111\u1ec3 x\xe2y d\u1ef1ng nh\xe0 m\xe1y th\xe0nh c\xf4ng"),n.instance.SetTutorial(JSON.stringify({indexTutorial:8}),function(){return Z.default.instance.GetClick_UpTutorial()}))}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.buySlotFactory=function(e,t){var n=ue.default.urlAPI+"farm/buySlotFactory-v2";switch(e){case F.NhaMayType.BanhMy:I.default.Instance.SetLog("Click_house_bread_buyTray");break;case F.NhaMayType.Det:I.default.Instance.SetLog("Click_house_Textile_buyTray");break;case F.NhaMayType.Sua:I.default.Instance.SetLog("Click_house_milk_buyTray");break;case F.NhaMayType.DongHop:I.default.Instance.SetLog("Click_house_Meat_buyTray");break;case F.NhaMayType.CheBienThucAn:I.default.Instance.SetLog("Click_house_animalfeed_buyTray")}var o={typeFactory:e};this.CallPostNotLoading(o,n,function(e){if("0"==e.errorCode){var n=e.data;t(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getDataFactoryCare=function(e,t,n,o){var a=ue.default.urlAPI+"farm/getDataFactoryCareNew-v2";switch(e){case"Bread":case"Apple Strudel":I.default.Instance.SetLog("Click_house_bread_breadProduction");break;case"Cookies":I.default.Instance.SetLog("Click_house_bread_BiscuitProduction");break;case"Hamburger":I.default.Instance.SetLog("Click_house_bread_HamburgerProduction");break;case"Mixed Fruit Sandwich":I.default.Instance.SetLog("Click_house_bread_SandwichProduction");break;case"Pizza":I.default.Instance.SetLog("Click_house_bread_PizzaProduction");break;case"Bottled milk":I.default.Instance.SetLog("Click_house_milk_MilkCarton");break;case"Cheese":I.default.Instance.SetLog("Click_house_milk_Cheese");break;case"Butter":I.default.Instance.SetLog("Click_house_milk_Butter");break;case"Sweater":I.default.Instance.SetLog("Click_house_Textile_Sweater");break;case"Chicken feed":I.default.Instance.SetLog("Click_house_animalfeed_chicken");break;case"Pig feed":I.default.Instance.SetLog("Click_house_animalfeed_Pig");break;case"Duck food":I.default.Instance.SetLog("Click_house_animalfeed_Duck");break;case"Sheep food":I.default.Instance.SetLog("Click_house_animalfeed_Sheep");break;case"Cow feed":I.default.Instance.SetLog("Click_house_animalfeed_Cow");break;case"Goat food":I.default.Instance.SetLog("Click_house_animalfeed_goat");break;case"Canned pork":I.default.Instance.SetLog("Click_house_Meat_Pork");break;case"Canned lamb":I.default.Instance.SetLog("Click_house_Meat_Lamb")}var r={typeFactory:t,typeFood:e,FactoryId:n};this.CallPostNotLoading(r,a,function(e){if("0"==e.errorCode||"102"==e.errorCode||"105"==e.errorCode){var t=e.data;D.default.instance&&D.default.instance.CheckNotiOrder(),"105"==e.errorCode&&b.default.MainPopupNotification.Notification(t.content),o&&o(t,e.errorCode)}else o(null,-1),b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getInfoFactoryOfPlayer=function(e,t){if(!b.default.isPlayFriend)if(e){var n=ue.default.urlAPI+"farm/getInfoFactoryOfPlayerNew-v2",o={typeFactory:e};this.CallPost(o,n,function(n){if("0"==n.errorCode){var o=n.data;t(o);var a=null;switch(e){case F.NhaMayType.BanhMy:a=L.default.Instance.node.getChildByName("NhaMayBanhMy");break;case F.NhaMayType.Det:a=L.default.Instance.node.getChildByName("NhaMayDet");break;case F.NhaMayType.Sua:a=L.default.Instance.node.getChildByName("NhaMaySua");break;case F.NhaMayType.DongHop:a=L.default.Instance.node.getChildByName("NhaMayDongHop");break;case F.NhaMayType.CheBienThucAn:a=L.default.Instance.node.getChildByName("NhaMayCheBienThucAn")}a&&a.getComponent(x.default).FuncUpdate(o)}else b.default.MainPopupNotification.Notification(n.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}else console.error("getInfoFactoryOfPlayer factoryId is null")},t.prototype.birdGift=function(e){var t=ue.default.urlAPI+"farm/birdGift";this.CallPost({},t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(N.default);o&&o.onResponseEgg(n),I.default.Instance.SetLog("Click_nest_success")}else I.default.Instance.SetLog("Click_nest_fail"),b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getRule=function(e){var t=ue.default.urlAPI+"farm/getRule";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(Y.default).onResponseRule(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.saveAvatar=function(e,t){var n=ue.default.urlAPI+"farm/chooseAvatar",o={avatar:e};this.CallPost(o,n,function(e){if("0"==e.errorCode||"105"==e.errorCode){var n=e.data,o=t.getComponent(z.default);o&&o.onResponseAvatar(n)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.goldToMB=function(){var e=ue.default.urlAPI+"farm/goldToMB";this.CallPost({},e,function(e){if("0"==e.errorCode)return b.default.MainPopupNotification.Notification(e.data.message),void b.default.PlayerController.LoadData(e.data);b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getDataSeedAndSupportItemShop=function(e){var t=ue.default.urlAPI+"farm/getDataSeedAndSupportItemShop";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data,o=e.getComponent(re.default);o&&o.onResponseDataSeedAndSupportItemsShop(n);var a=e.getComponent(X.default);a&&a.onResponseDataSeedAndSupportItemsShop(n);var r=e.getComponent(oe.default);r&&r.onResponseDataSeedAndSupportItemsShop(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.checkValidatePhone=function(e,t){var o=this,a=ue.default.urlAPI+"farm/checkValidatePhone",r={number_phone:e};this.CallPost(r,a,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var a=e.data;switch(t(),o.statuscheckValidatePhone){case 1:n.instance.callRetailPackage(o.namePack,1,null,"0");break;case 2:n.instance.callRegisterPackage(o.namePack,null,"0");break;default:b.default.MainPopupNotification.Notification(a.content)}}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRetailPackage=function(e,t,n,o){var a,r=this;a=ue.default.IS_OPEN_MYPLAY?"farm/buyCoinPackage":"farm/callRetailPackage";var i=ue.default.urlAPI+a,c={requestId:n,packages:e,type:t,otp:o};this.CallPost(c,i,function(n){if("100"!=n.errorCode){if("508"==n.errorCode)return r.namePack=e,r.statuscheckValidatePhone=1,void H.default.Instance.EventEnterPhoneNumber();n.errorCode,b.default.MainPopupNotification.Notification(n.message)}else{var o=n.data;H.default.Instance.EventOtp("callRetailPackage",o.requestId,e,t)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRetailPackageInApp=function(e,t,n){var o=ue.default.urlAPI+"farm/callRetailPackageInApp",a={packages:e,type:t,phoneNumber:b.default.PlayerController.msisdn,charge_result:n};this.CallPost(a,o,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRegisterPackageInApp=function(e,t){var n=ue.default.urlAPI+"farm/callRegisterEmolaPackage",o={packages:e,charge_result:t};this.CallPost(o,n,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRetailEmolaPackage=function(e,t){var n=ue.default.urlAPI+"farm/callRetailEmolaPackage",o={packages:e,type:t};this.CallPost(o,n,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRegisterEmolaPackage=function(e,t){var n=ue.default.urlAPI+"farm/callRegisterEmolaPackage",o={packages:e,type:t};this.CallPost(o,n,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callUnEmolaRegisterPackage=function(e,t){var n=ue.default.urlAPI+"farm/callUnEmolaRegisterPackage",o={packages:e,type:t};this.CallPost(o,n,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getDiamondToGold=function(e){var t=ue.default.urlAPI+"farm/getDiamondToGold";this.CallPost(null,t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;e.getComponent(X.default).onResponseDataDiamondToGold(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.changeDiamondToGold=function(e){var t=ue.default.urlAPI+"farm/changeDiamondToGold";this.CallPost(null,t,function(t){if("0"==t.errorCode)return t.data,n.instance.getDiamondToGold(e),void e.getComponent(X.default).onResponseChangeDiamondToGold();b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callRegisterPackage=function(e,t,n){var o=this,a=ue.default.urlAPI+"farm/callRegisterPackage",r={requestId:t,packages:e,otp:n};this.CallPost(r,a,function(t){if("100"!=t.errorCode){if("508"==t.errorCode)return o.namePack=e,o.statuscheckValidatePhone=2,void H.default.Instance.EventEnterPhoneNumber();t.errorCode,b.default.MainPopupNotification.Notification(t.message)}else{var n=t.data;H.default.Instance.EventOtp("callRegisterPackage",n.requestId,e,null)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.callUnRegisterPackage=function(e,t,n){var o=ue.default.urlAPI+"farm/callUnRegisterPackage",a={requestId:t,packages:e,otp:n};this.CallPost(a,o,function(t){if("100"!=t.errorCode)t.errorCode,b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;H.default.Instance.EventOtp("callUnRegisterPackage",n.requestId,e,null)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getInfoGemAndGold=function(){var e=ue.default.urlAPI+"farm/getInfoGemAndGold";this.CallPost({},e,function(e){if("0"==e.errorCode)return b.default.PlayerController.UpdateDiamond(e.data.diamon),b.default.PlayerController.UpdateGold(e.data.gold),b.default.PlayerController.UpdateFirstDeposit(e.data.firstDeposit),void(b.default.country!=w.Language.CAM&&M.default.ShowPopupSub("Loading"));b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getFarmPackage=function(e,t){var n,o=ue.default.urlAPI+"farm/getFarmPackage";n=ue.default.IS_OPEN_MYPLAY?null:{type:e},this.CallPost(n,o,function(n){if("0"!=n.errorCode)b.default.MainPopupNotification.Notification(n.message);else{var o=n.data;t.getComponent(X.default).onResponseFarmPackage(e,o)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getFarmPackageInApp=function(e,t){var n,o=ue.default.urlAPI+"farm/getFarmPackageInApp";n=ue.default.IS_OPEN_MYPLAY?null:{type:e},this.CallPost(n,o,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;t&&t(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.outOfFriendHouse=function(){var e=ue.default.urlAPI+"farm/outOfFriendHouse",t={friendMsisdn:ue.default.friendMsisdn};this.CallPostNotLoading(t,e,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ping=function(){var e=ue.default.urlAPI+"farm/ping";this.CallPostNotLoading({},e,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getInfoMyPackage=function(e){var t=ue.default.urlAPI+"farm/getInfoMyPackage";this.CallPost({},t,function(t){e.getComponent(X.default).onResponseMyPackage(t)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getBestSale=function(e){var t=ue.default.urlAPI+"farm/getBestSale";this.CallPost({},t,function(t){e.getComponent(V.default).onResponseList(t.data)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.buyBestSale=function(e,t){var n=ue.default.urlAPI+"farm/buyBestSale",o={id:e};this.CallPost(o,n,function(e){t.getComponent(V.default).onResponseBuy(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListMinigame=function(){var e=ue.default.urlAPI+"farm/getListMinigame";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;b.default.MainMiniGameController.getComponent(R.default).Callback(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.CheckOrder=function(e){var t=ue.default.urlAPI+"farm/getListOrder-v2";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")},!1)},t.prototype.CheckHelpFriend=function(e){var t=ue.default.urlAPI+"farm/friend/getListOrderFriend",n={friendMsisdn:ue.default.friendMsisdn};this.CallPost(n,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListOrderNew=function(e){var t=ue.default.urlAPI+"farm/getListOrder-v2";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListOrderFriend=function(e){var t=ue.default.urlAPI+"farm/friend/getListOrderFriend",n={friendMsisdn:ue.default.friendMsisdn,typeFriendHelp:b.default.typeFriendHelp,userRequest:b.default.user,questOrderId:b.default.questOrderId,productItemId:b.default.productItemId};this.CallPost(n,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListOrderNew2=function(){var e=ue.default.urlAPI+"farm/getListOrder-v2";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;E.default.instance.LoadData(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.OrderItemNew=function(e,t){var o=ue.default.urlAPI+"farm/orderItemNew",a={id:e};this.CallPost(a,o,function(e){"0"==e.errorCode?(n.instance.GetListOrderNew2(),D.default.instance&&D.default.instance.CheckNotiOrder(),t.getComponent($.default).Close(),E.default.instance.StartUpPlane()):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.AddGiftPopup=function(){var e=ue.default.urlAPI+"farm/addGiftPopup";this.CallPost({popup:"myland_ad_fb"},e,function(e){"0"==e.errorCode&&e.data},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetInfoAnimal=function(e){var t=ue.default.urlAPI+"farm/getInfoAnimal";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(S.default).CallBack_AnimalInfo(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetInfoTree=function(e){var t=ue.default.urlAPI+"farm/getInfoTree";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e.getComponent(S.default).CallBack_PlantInfo(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.actionPopup=function(e,t){var n=ue.default.urlAPI+"farm/actionPopup",o={popup:e};this.CallPost(o,n,function(){t.getComponent(q.default).onResponseActionPopup()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.popupNapDau=function(e){var t=ue.default.urlAPI+"farm/actionPopup",n={popup:e};this.CallPostNotLoading(n,t,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Tracking=function(e,t){var n=ue.default.urlAPI+"farm/actionFisrtRegister",o={type:e,action:t};this.CallPostNotLoading(o,n,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getWater=function(){var e=ue.default.urlAPI+"farm/getWater";this.CallPost(null,e,function(e){"0"==e.errorCode?(e.data,P.default.Instance.EventWater()):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.UpdateTimeGetWater=function(){var e=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPost({keys:["nickName","totalWater","timeWater","diamondWater"]},e,function(e){if("0"==e.errorCode){var t=e.data;b.default.PlayerController.LoadName(t.nickName),b.default.PlayerController.ShowTimeGetWater(t.totalWater,t.timeWater,t.diamondWater)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.MissionLogin=function(){var e=ue.default.urlAPI+"farm/missionLogin";this.CallPost(null,e,function(e){"0"==e.errorCode||b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SetTutorial=function(e,t){var n=ue.default.urlAPI+"farm/upTutorial",o={tutorial:e};this.CallPostNotLoading(o,n,function(e){"105"==e.errorCode&&t()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetTutorial=function(e){var t=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPostNotLoading({keys:["tutorial","Farm"]},t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListMission=function(){var e=ue.default.urlAPI+"farm/getListMission";this.CallPost({},e,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var t=e.data;f.default.Instance.LoadPopup(t)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ChangeMissionReward=function(e){var t=ue.default.urlAPI+"farm/changeMissionReward",o={missionId:e};this.CallPost(o,t,function(e){if("0"==e.errorCode){var t=e.data;return f.default.Instance.ShowPopupGift(t),void n.instance.GetListMission()}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SaveName=function(e,t,n){var o=ue.default.urlAPI+"farm/saveName",a={nickName:e,tut:t};this.CallPost(a,o,function(e){"105"==e.errorCode&&n(),b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ResetGame=function(){var e=ue.default.urlAPI+"farm/restartUser-v2";this.CallPost(null,e,function(e){"0"==e.errorCode&&e.data,b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.DomeTut=function(){b.default.index=15,n.instance.SetTutorial(JSON.stringify({indexTutorial:15}),function(){return null})},t.prototype.UpLevel=function(){var e=ue.default.urlAPI+"farm/updateUser";this.CallPost({gold:1e6,diamond:2e4,level:20},e,function(e){"0"==e.errorCode&&e.data,b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.getMoreGame=function(e){var t=ue.default.urlAPI+"farm/getMoreGame";this.CallPost(null,t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;e(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Sync=function(e,t){var n=ue.default.urlAPI+"farm/sync",o={msisdn:e};this.CallPost(o,n,function(e){"0"!=e.errorCode?b.default.MainPopupNotification.Notification(e.message):t.EventGetCode()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SyncConfirm=function(e,t){var n=ue.default.urlAPI+"farm/syncConfirm",o={otp:e};this.CallPost(o,n,function(e){"0"!=e.errorCode?b.default.MainPopupNotification.Notification(e.message):t.EventDone()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.updateMoreGame=function(e){var t=ue.default.urlAPI+"farm/updateMoreGame",n={gameId:e};this.CallPost(n,t,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.PopupAnimal=function(e,t){var n=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPostNotLoading({keys:["CattleFarm"]},n,function(n){if("0"==n.errorCode){var o=n.data;return t(o,e),void b.default.AnimalController.updateProductionProcess(o.CattleFarm)}b.default.MainPopupNotification.Notification(n.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.FeedAnimal_2=function(e){var t=ue.default.urlAPI+"farm/getDataStoreHouseNew-v2";this.CallPost(null,t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data.dataStore.find(function(t){return t.typeOfStorage==e});n?d.default.Instance.LoadFeed_2(e,n.quantity):d.default.Instance.LoadFeed_2(e,0)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDataAnimalCareNew=function(e,t,n,o){var a={type:e,list_animalId:o,animalId:t,animalType:n},r=ue.default.urlAPI+"farm/getDataAnimalCareNew";this.CallPostNotLoading(a,r,function(e){if("107"==e.errorCode){var t=e.data;return d.default.Instance.ReloadPopup(),void b.default.MainPopupNotification.Notification(t.content)}"106"!=e.errorCode?b.default.MainPopupNotification.Notification(e.message):d.default.Instance.ReloadPopup()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.AnimalFeed=function(e,t,n,o){var a={type:e,list_animalId:o,animalId:t,animalType:n};b.default.socket.send(JSON.stringify({event:"getDataAnimalCareNew",payload:JSON.stringify(a)}))},t.prototype.CollectAgriculturalNew=function(e,t,o){var a=ue.default.urlAPI+"farm/collectAgriculturalNew",r={animalId:e,animalType:t,skip:o};this.CallPostNotLoading(r,a,function(e){"0"!=e.errorCode?b.default.MainPopupNotification.Notification(e.message):(d.default.Instance.ReloadPopup(),1==o&&5==b.default.index&&(n.instance.SetTutorial(JSON.stringify({indexTutorial:6}),function(){return Z.default.instance.GetClick_UpTutorial()}),d.default.Instance.node.active=!1),D.default.instance&&D.default.instance.CheckNotiOrder())},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SaveMap=function(e){var t=L.default.Instance.jsonMap.json,n=ue.default.urlAPI+"farm/saveMap",o={map:t,type:e};this.CallPost(o,n,function(e){"0"!=e.errorCode&&b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SaveItem=function(e,t,n,o,a,r,i){var c=ue.default.urlAPI+"farm/setLocationDecorativeItem",l={id:e,x:t,y:n,sizeX:o,sizeY:a,isRotate:r};this.CallPost(l,c,function(e){"0"!=e.errorCode?b.default.MainPopupNotification.Notification(e.message):i&&i()},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SellDecorativeItem=function(e,t){var n=ue.default.urlAPI+"farm/sellDecorativeItem",o={id:e};this.CallPost(o,n,function(e){"0"==e.errorCode&&t&&t(),b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SavePlot=function(e){var t=ue.default.urlAPI+"farm/updatePositionLand-v2",n={lands:e};this.CallPost(n,t,function(e){"0"!=e.errorCode&&b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetMap=function(e){void 0===e&&(e=null);var t=function(e){var t;if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;(null===(t=null==n?void 0:n.map)||void 0===t?void 0:t.MainMap)?(L.default.Instance.jsonMap.json=n.map,L.default.Instance.Loadmap()):(L.default.Instance.jsonMap.json=L.default.Instance.jsonMap.json,L.default.Instance.Loadmap())}};if(e)t(e);else{var n=ue.default.urlAPI+"farm/getMap";this.CallPost(null,n,function(e){t(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.GetInfoMap=function(e){void 0===e&&(e=null);var t=function(e){if("0"==e.errorCode){var t=e.data;return G.default.Instance.LoadMap(t.map),void b.default.AnimalController.LoadMapCage(t.cage)}b.default.MainPopupNotification.Notification(e.message)};if(e)t(e);else{var n=ue.default.urlAPI+"farm/getInfoMap";this.CallPost(null,n,function(e){t(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.UnlockMap=function(e,t){if(!b.default.isPlayFriend){switch(e){case"map1":case"map2":break;case"map3":I.default.Instance.SetLog("Unlockland_Minigame");break;case"map4":I.default.Instance.SetLog("Unlockland_Well");break;case"map5":I.default.Instance.SetLog("Unlockland_Oldtree7");break;case"map6":I.default.Instance.SetLog("Unlockland_Pigsty");break;case"map7":I.default.Instance.SetLog("Unlockland_cannedfood");break;case"map8":I.default.Instance.SetLog("Unlockland_Oldtree13");break;case"map9":I.default.Instance.SetLog("Unlockland_Sheepbarn");break;case"map10":I.default.Instance.SetLog("Unlockland_Byre")}var o=ue.default.urlAPI+"farm/unlockMap",a={typeMap:e};this.CallPost(a,o,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var o=e.data;t(o),12==b.default.index&&n.instance.SetTutorial(JSON.stringify({indexTutorial:13}),function(){return Z.default.instance.GetClick_UpTutorial()})}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})}},t.prototype.unlockMapSkip=function(e,t){var n=ue.default.urlAPI+"farm/unlockMapSkip",o={typeMap:e};this.CallPost(o,n,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;t(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.UnlockCage=function(e,t){var n=ue.default.urlAPI+"farm/unlockCage",o={typeCage:e};this.CallPost(o,n,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;t(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.unlockCageSkip=function(e,t){var n=ue.default.urlAPI+"farm/unlockCageSkip",o={typeCage:e};this.CallPost(o,n,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;t(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.factorySkip=function(e,t){var n=ue.default.urlAPI+"farm/factorySkip",o={id:e};this.CallPost(o,n,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var n=e.data;t(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ShopPlot=function(e){var t=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPost({keys:["Farm"]},t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;e(n.Farm.nextLand)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListDecorativeItem=function(e){var t=ue.default.urlAPI+"farm/getListDecorativeItem";this.CallPost(null,t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;e(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.BuyDecorativeItem=function(e,t,n){var o=ue.default.urlAPI+"farm/buyDecorativeItem",a="gold";t||(a="diamond");var r={typeDecorative:e,typePrice:a};this.CallPost(r,o,function(e){if("0"==e.errorCode){var t=e.data;n(t)}b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.APILog=function(e){var t=ue.default.urlAPI+"farm/log",n={content:e};this.CallPostNotLoading(n,t,function(){},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.ReloadPlot=function(){var e=ue.default.urlAPI+"farm/getPlayerInfo-v2";this.CallPost({keys:["Farm"]},e,function(e){if("0"!=e.errorCode)b.default.MainPopupNotification.Notification(e.message);else{var t=e.data;b.default.FarmController.LoadData(t.Farm)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Like=function(){var e=ue.default.urlAPI+"eventDecoration/like",t={friendMsisdn:ue.default.friendMsisdn};this.CallPost(t,e,function(e){"0"==e.errorCode?b.default.MainPopupNotification.Notification(w.default.Instance.GetText("XMAS2023You hit like successfull, Well done")):b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Vote=function(){var e=ue.default.urlAPI+"eventKhmer/vote",t={voteId:ue.default.friendMsisdn};this.CallPost(t,e,function(e){switch(e.errorCode){case 0:b.default.MainFriendController.SetButtonLike(!1),c.default.Instance.ShowPopup();break;case 11:c.default.Instance.ShowPopupComeback();break;default:b.default.MainPopupNotification.Notification(e.message)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.CheckVote=function(e){var t=ue.default.urlAPI+"eventKhmer/checkVote",n={friendId:ue.default.friendMsisdn};this.CallPost(n,t,function(t){if("0"!=t.errorCode)b.default.MainPopupNotification.Notification(t.message);else{var n=t.data;e(n)}},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Xmas2023GetXmasGift=function(e){var t=ue.default.urlAPI+"eventDecoration/getCheckin";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Xmas2023Checkin=function(){var e=ue.default.urlAPI+"eventDecoration/checkin";this.CallPost(null,e,function(e){if("0"==e.errorCode){var t=e.data;l.default.Instance.ShowNotify(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetDailyCheckIn=function(e,t){void 0===t&&(t=null);var n=function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)};if(t)return n(t),void(b.default.allStartData.getDailyCheckIn=null);var o=ue.default.urlAPI+"farm/getDailyCheckIn";this.CallPost(null,o,function(e){n(e)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.checkInDaily=function(e){var t=ue.default.urlAPI+"farm/checkInDaily";this.CallPost(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.SendChat=function(e,t,n){var o,a=ue.default.urlAPI+"farm/sendChat";o=e?{message:t,typeChat:"UserChat",typeContentMess:"Share friend"}:{message:t,typeChat:"UserChat"},this.CallPost(o,a,function(e){if("0"==e.errorCode){var t=e.data;n&&n(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetHistoryChat=function(e,t,n){var o=ue.default.urlAPI+"farm/getHistoryChat",a={type:e,chatId:t};this.CallPost(a,o,function(e){if("0"==e.errorCode){var t=e.data;n&&n(t)}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.CheckUnlockMap=function(e){var t=ue.default.urlAPI+"farm/checkUnlockMap";this.CallPost({typeMap:"map3"},t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.GetListGameMarket=function(e){var t=ue.default.urlAPI+"farm/business/GetListGameMarket";this.CallGet(null,t,function(t){if("0"==t.errorCode){var n=t.data;e&&e(n)}else b.default.MainPopupNotification.Notification(t.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.DeleteUserTutorial=function(){var e=ue.default.urlAPI+"farm/tutorial/deleteUserTutorial";this.CallPostNotLoading(null,e,function(e){b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.CreateOrUpdateUserTutorial=function(){var e=ue.default.urlAPI+"farm/tutorial/createOrUpdateUserTutorial",t={tutorial:b.default.jsonTut};this.CallPost(t,e,function(e){if("0"==e.errorCode){var t=e.data,n=JSON.parse(t.tutorial);b.default.jsonTut=n,b.default.PlayerController.UpdateTut()}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.Ping=function(){var e=ue.default.urlAPI+"farm/tutorial/createOrUpdateUserTutorial",t={tutorial:b.default.jsonTut};this.CallPost(t,e,function(e){if("0"==e.errorCode){var t=e.data;JSON.parse(t.tutorial),b.default.PlayerController.UpdateTut()}else b.default.MainPopupNotification.Notification(e.message)},function(e){e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})},t.prototype.CallPostNotLoading=function(e,t,n,o){if(b.default.isPlayFriend){var a=null==t?void 0:t.split("/").reverse()[0];if(["log"].indexOf(a)>=0)return void console.log("CallPostNotLoading skip url",t)}var r,i=new XMLHttpRequest;i.onerror=function(){},i.onreadystatechange=function(){var e;if(4==i.readyState&&200==i.status&&i.responseText){var t=JSON.parse(i.responseText);"401"==t.errorCode?(2!=b.default.PlayerController.firstDeposit&&M.default.createIsMoney("OutOfMoney"),b.default.MainPopupNotification.Notification(t.message)):n(t),(null===(e=t.data)||void 0===e?void 0:e.dataPlayer)&&b.default.PlayerController&&(b.default.PlayerController.LoadName(t.data.dataPlayer.nickName),b.default.PlayerController.LoadData(t.data.dataPlayer),b.default.PlayerController.UpdateTotalWater(t.data.dataPlayer.totalWater,t.data.dataPlayer.timeWater))}},i.open("POST",t,!0),o(i),r=null!=e?JSON.stringify(e):e,i.send(r)},t.prototype.postAsync=function(e,t,n){var o=this;return void 0===t&&(t=null),void 0===n&&(n=function(){}),new Promise(function(a){o.CallPost(t,ue.default.urlAPI+e,function(e){a(e)},function(e){n(e),e.setRequestHeader("Authorization","Bearer "+ue.default.accessToken),e.setRequestHeader("Content-type","application/json")})})},t.prototype.CallGet=function(e,t,o,a,r){void 0===r&&(r=!0),ue.default.IS_TEST&&console.log("CallGet",t,e),k.default.instnace.loading.active=r;var i,c=new XMLHttpRequest;c.onerror=function(){k.default.instnace.loading.active=!1},c.ontimeout=function(){k.default.instnace.loading.active=!1},c.onabort=function(){k.default.instnace.loading.active=!1},c.onloadend=function(){k.default.instnace.loading.active=!1},c.onreadystatechange=function(){var e;if(4==c.readyState&&200==c.status&&c.responseText){k.default.instnace.loading.active=!1;var a=JSON.parse(c.responseText);if(ue.default.IS_TEST&&console.log("CallGet=>",t,a),"109"==a.errorCode?b.default.MainPopupNotification.NotificationSub(a.message):"401"==a.errorCode?(2!=b.default.PlayerController.firstDeposit&&M.default.createIsMoney("OutOfMoney"),b.default.MainPopupNotification.Notification(a.message)):o(a),"number"==typeof a.timestamp&&(n.distanceTime=Date.now()-a.timestamp),(null===(e=a.data)||void 0===e?void 0:e.dataPlayer)&&b.default.PlayerController){var r=ue.default.urlAPI+"farm/spinGift";t!=r&&b.default.PlayerController.LoadData(a.data.dataPlayer),b.default.PlayerController.LoadName(a.data.dataPlayer.nickName),b.default.PlayerController.UpdateTotalWater(a.data.dataPlayer.totalWater,a.data.dataPlayer.timeWater)}}},c.open("GET",t,!0),a(c),i=null!=e?JSON.stringify(e):e,c.send(i)},t.prototype.CallPost=function(e,t,o,a,r){if(void 0===r&&(r=!0),b.default.isPlayFriend){var i=null==t?void 0:t.split("/").reverse()[0];if(["saveMap","unlockMap"].indexOf(i)>=0)return void console.log("CallPost skip url",t)}ue.default.IS_TEST&&console.log("CallPost",t,e),k.default.instnace.loading.active=r;var c,l=new XMLHttpRequest;l.onerror=function(){k.default.instnace.loading.active=!1},l.ontimeout=function(){k.default.instnace.loading.active=!1},l.onabort=function(){k.default.instnace.loading.active=!1},l.onloadend=function(){k.default.instnace.loading.active=!1},l.onreadystatechange=function(){var e;if(4==l.readyState&&200==l.status&&l.responseText){k.default.instnace.loading.active=!1;var a=JSON.parse(l.responseText);if(ue.default.IS_TEST&&console.log("CallPost=>",t,a),"109"==a.errorCode?b.default.MainPopupNotification.NotificationSub(a.message):"401"==a.errorCode?(2!=b.default.PlayerController.firstDeposit&&M.default.createIsMoney("OutOfMoney"),b.default.MainPopupNotification.Notification(a.message)):o(a),"number"==typeof a.timestamp&&(n.distanceTime=Date.now()-a.timestamp),(null===(e=a.data)||void 0===e?void 0:e.dataPlayer)&&b.default.PlayerController){var r=ue.default.urlAPI+"farm/spinGift";t!=r&&b.default.PlayerController.LoadData(a.data.dataPlayer),b.default.PlayerController.LoadName(a.data.dataPlayer.nickName),b.default.PlayerController.UpdateTotalWater(a.data.dataPlayer.totalWater,a.data.dataPlayer.timeWater)}}},l.open("POST",t,!0),a(l),c=null!=e?JSON.stringify(e):e,l.send(c)},t.prototype.CallPut=function(e,t,o,a){ue.default.IS_TEST&&console.log("CallPut",t,e),k.default.instnace.loading.active=!0;var r,i=new XMLHttpRequest;i.onerror=function(){k.default.instnace.loading.active=!1},i.ontimeout=function(){k.default.instnace.loading.active=!1},i.onabort=function(){k.default.instnace.loading.active=!1},i.onloadend=function(){k.default.instnace.loading.active=!1},i.onreadystatechange=function(){var e;if(4==i.readyState&&200==i.status&&i.responseText){k.default.instnace.loading.active=!1;var a=JSON.parse(i.responseText);if(ue.default.IS_TEST&&console.log("CallPut=>",t,a),"109"==a.errorCode?b.default.MainPopupNotification.NotificationSub(a.message):"401"==a.errorCode?(2!=b.default.PlayerController.firstDeposit&&M.default.createIsMoney("OutOfMoney"),b.default.MainPopupNotification.Notification(a.message)):o(a),"number"==typeof a.timestamp&&(n.distanceTime=Date.now()-a.timestamp),(null===(e=a.data)||void 0===e?void 0:e.dataPlayer)&&b.default.PlayerController){var r=ue.default.urlAPI+"farm/spinGift";t!=r&&b.default.PlayerController.LoadData(a.data.dataPlayer),b.default.PlayerController.LoadName(a.data.dataPlayer.nickName),b.default.PlayerController.UpdateTotalWater(a.data.dataPlayer.totalWater,a.data.dataPlayer.timeWater)}}},i.open("PUT",t,!0),a(i),r=null!=e?JSON.stringify(e):e,i.send(r)},t.distanceTime=0,n=r([pe],t)}(cc.Component));n.default=de,cc._RF.pop()},{"../../Event/NewYearCampuchia/src/NewYearCampuchia.Main":"NewYearCampuchia.Main","../../Event/NewYearCampuchia/src/NewYearCampuchia.Notify":"NewYearCampuchia.Notify","../../Event/XMAS2023/SRC/DiemDanh/XMAS2023.XmasGift.Main":"XMAS2023.XmasGift.Main","../Animal/AnimalBase":"AnimalBase","../CayAnQua/CayAnQua.Controller":"CayAnQua.Controller","../CayAnQua/CayAnQua.Tree":"CayAnQua.Tree","../ChucNangChoAn/AnimalFeedController":"AnimalFeedController","../CoCheDoiThuong/DoiDataController":"DoiDataController","../Cote/AnimalController":"AnimalController","../DailyAttendance/DailyAttendanceController":"DailyAttendanceController","../DailyAttendance/DailyAttendanceMain":"DailyAttendanceMain","../DailyCheckin/DailyCheckin.Main":"DailyCheckin.Main","../Farm/FarmController":"FarmController","../Friend/Popup.FriendController":"Popup.FriendController","../Friend/V2_v1.0.3/FriendV103.FriendController":"FriendV103.FriendController","../Game/GameManager":"GameManager","../Game/ShowCoin":"ShowCoin","../GoiNapDau/PopupGoiNapDauInitialize":"PopupGoiNapDauInitialize","../Help/HelpController":"HelpController","../Info/InfoController":"InfoController","../LandUmbrella/LandUmbrellaController":"LandUmbrellaController","../Language/LanguageManager":"LanguageManager","../Log/LogController":"LogController","../LuckyBird/LuckyBirdController":"LuckyBirdController","../Main.Loading":"Main.Loading","../Main.MiniGameController":"Main.MiniGameController","../Main.PanelMenu":"Main.PanelMenu","../Map/MainMap":"MainMap","../Map/MapBase":"MapBase","../NewAction/SeedMain":"SeedMain","../NhaMay/ENhaMayType":"ENhaMayType","../NhaMay/NhaMayItem":"NhaMayItem","../Notification/NotificationController":"NotificationController","../OTP/OTPMain":"OTPMain","../Order/ItemOrderController":"ItemOrderController","../Order/OrderMain":"OrderMain","../Player/PlayerController":"PlayerController","../PopupFishHunter/PopupFishHunterInitialize":"PopupFishHunterInitialize","../PopupMiniGameSale/PopupMiniGameSale":"PopupMiniGameSale","../PopupProfile/PopupProfile":"PopupProfile","../PopupShop/PopupShopController":"PopupShopController","../Rank/RankController":"RankController","../Setting/SettingController":"SettingController","../Socket/SocketController":"SocketController","../StoreHouse/column/StoreHouseController":"StoreHouseController","../SuggestGiftcode/SuggestInitialize":"SuggestInitialize","../Tutorial/Main.Tutorial":"Main.Tutorial","../UI/Popup/ParticlePopupController":"ParticlePopupController","../UI/Popup/PopupController":"PopupController","../UI/PopupLoginEvent":"PopupLoginEvent","../UI/Shop/ShopAnimalController":"ShopAnimalController","../UI/Shop/ShopCayDaiHan":"ShopCayDaiHan","../UI/Shop/ShopMain":"ShopMain","../UI/Shop/ShopPhanBon":"ShopPhanBon","../UI/Shop/ShopTreeController":"ShopTreeController","../VongQuayMayMan/VongQuayMayMan":"VongQuayMayMan","../VongQuayMayMan/VongQuayMayManInit":"VongQuayMayManInit","./APIManager":"APIManager"}],APIManager:[function(e,t,n){"use strict";cc._RF.push(t,"a5102aMSP9JYbrGxAQAFmjw","APIManager");var o=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,i=(a.property,function(){function e(){}return e.isEndEventDecoration=!1,e.isEndEventNewYearCampuchia=!1,e.IS_OPEN_GLOBAL=!1,e.IS_OPEN_GAME_BATA=!1,e.IS_OPEN_MYPLAY=!1,e.IS_TEST=!0,e.urlAPI="",e.accessToken="",e.isLogin=!1,o([r],e)}());n.default=i,cc._RF.pop()},{}],ActiveTut:[function(e,t,n){"use strict";cc._RF.push(t,"c593fo0Z0NMxqkXB+v3fHbA","ActiveTut");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../API/APIController"),c=e("../Game/GameManager"),l=cc._decorator,u=l.ccclass,s=l.property,p=l.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textTutEnable="",t.textTutDisable="",t}return a(t,e),t.prototype.onEnable=function(){""!=this.textTutEnable&&c.default.index<15&&i.default.instance.APILog(this.textTutEnable)},t.prototype.onDisable=function(){""!=this.textTutDisable&&c.default.index<15&&i.default.instance.APILog(this.textTutDisable)},r([s],t.prototype,"textTutEnable",void 0),r([s],t.prototype,"textTutDisable",void 0),r([u,p("ActiveTut")],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../API/APIController":"APIController","../Game/GameManager":"GameManager"}],AnimController:[function(e,t,n){"use strict";cc._RF.push(t,"6cd36dPzUNFBp1LQNh7kaiL","AnimController");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(r<3?a(i):r>3?a(t,n,i):a(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Game/GameManager"),c=cc._decorator,l=c.ccclass,u=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stt="",t.tuoinuoc=!1,t}return a(t,e),t.prototype.start=function(){var e=this,t=this.node.children[0].getComponent(sp.Skeleton);this.tuoinuoc?i.default.AudioController.EnabledTuoiNuoc():i.default.AudioController.EnabledBatSau(),t.setAnimation(0,this.stt,!1),t.setCompleteListener(function(){t.animation==e.stt&&e.Close()})},t.prototype.Close=function(){this.node.destroy()},r([u],t.prototype,"stt",void 0),r([u],t.prototype,"tuoinuoc",void 0),r([l],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../Game/GameManager":"GameManager"}],AnimalBagController:[function(e,t,n){"use strict";cc._RF.push(t,"3e95dq0J8lKgp/NdtEiJdaB","AnimalBagController");var o,a=this&&this.__extends||(o=f